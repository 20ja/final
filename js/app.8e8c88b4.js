(function(t){function e(e){for(var n,i,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],n=!0,i=1;i<o.length;i++){var l=o[i];0!==a[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},a={app:0},s=[];function i(t){return r.p+"js/"+({about:"about","book~buy~reg":"book~buy~reg",book:"book",buy:"buy",reg:"reg",newbook:"newbook",order:"order"}[t]||t)+"."+{about:"40151256","book~buy~reg":"e87828c5",book:"754513a3",buy:"2c0cd247",reg:"fa9c20c9",newbook:"8165518e",order:"e471ef00"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(t){var e=[],o=a[t];if(0!==o)if(o)e.push(o[2]);else{var n=new Promise((function(e,n){o=a[t]=[e,n]}));e.push(o[2]=n);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=i(t);var c=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(u);var o=a[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",c.name="ChunkLoadError",c.type=n,c.request=s,o[1](c)}a[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var d=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d"),o("0cdd");var n=o("2b0e"),a=o("5f5b");o("ab8b"),o("2dd8");n["default"].use(a["b"]);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("header"),o("div",[o("b-navbar",{attrs:{toggleable:"lg",type:"light",variant:"light",fixed:"top"}},[o("b-navbar-brand",{attrs:{to:"/"}},[o("img",{attrs:{src:"./img/logo橫.png",height:"40px",alt:"LOGO"}})]),o("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),o("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[o("b-navbar-nav",{staticClass:"ml-auto navline"},[o("b-navbar-nav",[o("b-nav-item",{attrs:{to:"/about"}},[t._v("關於我們")]),o("b-nav-item",{attrs:{to:"/newbook"}},[t._v("新書排行")]),o("b-nav-item",{attrs:{to:"/book"}},[t._v("書籍分類")])],1),o("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[o("em",[o("font-awesome-icon",{staticClass:"text-g",attrs:{icon:["fas","user"]}})],1)]},proxy:!0}])},[0===t.getAccount.length?o("b-dropdown-item",{attrs:{to:"/reg"}},[t._v("註冊")]):t._e(),0===t.getAccount.length?o("b-dropdown-item",[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{id:"r-bt"}},[t._v("登入")])],1):o("b-dropdown-item",{on:{click:t.logout}},[t._v("登出")])],1),o("b-nav-form",[t.toggle?o("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"搜尋書籍"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchvalue,callback:function(e){t.searchvalue=e},expression:"searchvalue"}}):t._e(),o("b-nav-item",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit"}},[o("font-awesome-icon",{staticClass:"text-g",attrs:{icon:["fas","search"]},on:{click:function(e){t.toggle=!t.toggle}}})],1)],1),o("b-nav-item",{on:{click:t.tobuy}},[o("font-awesome-icon",{staticClass:"text-g",attrs:{icon:["fas","shopping-cart"]}})],1)],1)],1)],1)],1),o("b-modal",{attrs:{id:"modal-1","hide-footer":""}},[o("div",{staticClass:"h-100 d-flex justify-content-center align-items-center",attrs:{"hide-footer":""}},[o("b-container",{staticClass:"d-flex justify-content-center align-items-center"},[o("b-row",[o("b-col",{staticClass:"justify-content-center align-items-center d-flex",attrs:{cols:"12"}},[o("div",[o("h1",{staticClass:"text-center"},[t._v("登入")]),o("b-form",{on:{submit:t.submit}},[o("b-form-group",{attrs:{label:"帳號","label-for":"input-account",description:"帳號長度為 6 - 20 個字","invalid-feedback":"帳號格式不符",state:t.state("account")}},[o("b-form-input",{attrs:{id:"input-account",type:"text",state:t.state("account")},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1),o("b-form-group",{attrs:{label:"密碼","label-for":"input-password",description:"密碼長度為 6 - 20 個字","invalid-feedback":"密碼格式不符",state:t.state("password")}},[o("b-form-input",{attrs:{id:"input-password",type:"password",state:t.state("password")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("b-button",{attrs:{type:"submit"},on:{click:function(e){return t.$bvModal.hide("modal-1")}}},[t._v("登入")])],1)],1)])],1)],1)],1)]),o("vue-page-transition",{attrs:{id:"webcontent"}},[o("router-view")],1),o("footer",[o("div",{staticClass:"container-fluid bg-light text-dark pt-2"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-6 col-md-3 d-flex justify-content-center"},[o("img",{staticClass:"rounded-circle",attrs:{src:"./img/logo.png"}})]),t._m(0),t._m(1),o("div",{staticClass:"col-6 col-md-3"},[o("b",[t._v("FB")]),o("b-nav-item",{attrs:{href:"https://www.facebook.com/sungoodbookstore/",target:"_blank"}},[o("font-awesome-icon",{staticClass:"text-g",attrs:{size:"2x",icon:["fab","facebook"]}})],1)],1)]),o("div",{staticClass:"text-center pt-3 "},[t._v("© Copyright 2020 網頁前端班專題")])])])],1)},i=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-6 col-md-3"},[o("b",[t._v("Address")]),o("div",[t._v("公司地址:台北市復興北路15號14樓之4 (1417室) 芝麻大廈")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-6 col-md-3 d-flex flex-column"},[o("b",[t._v("Contacts")]),o("div",[t._v("Phone：2777-3020")]),o("div",[t._v("E-mail: service@sungoodbooks.com")])])}],r=(o("b0c0"),{name:"app",data:function(){return{toggle:!1,account:"",password:"",searchvalue:""}},methods:{tobuy:function(){0===this.getAccount.length?(alert("請先登入"),this.$bvModal.show("modal-1")):"/buy"!==this.$route.path&&this.$router.push("/buy")},state:function(t){return"account"===t?!(this.account.length<6||this.account.length>20)||null:"password"===t?!(this.password.length<6||this.password.length>20)||null:void 0},submit:function(t){var e=this;t.preventDefault(),this.account.length<6||this.account.length>20?alert("帳號格式不符"):(this.password.length<6||this.password.length>20)&&alert("密碼格式不符"),this.axios.post("https://finalbooks.herokuapp.com/login",{account:this.account,password:this.password}).then((function(t){var o=t.data;o.success?(alert("登入成功"),e.$store.commit("login",o.result[0]),"/book"!==e.$route.path&&e.$router.push("/book")):alert(o.message)})).catch((function(t){alert(t.response.data.message)}))},logout:function(){var t=this;this.axios.delete("https://finalbooks.herokuapp.com/logout").then((function(e){var o=e.data;o.success?(alert("登出成功"),t.$store.commit("logout"),"/"!==t.$route.path&&t.$router.push("/")):alert(o.message)})).catch((function(t){alert(t.response.data.message)}))},search:function(t){var e=this;t.preventDefault(),this.axios.get("https://finalbooks.herokuapp.com/search/"+this.searchvalue).then((function(t){var o=t.data.result[0];o.name="https://finalbooks.herokuapp.com/upload/"+o.name;for(var n=0;n<o.preview.length;n++)o.preview[n]="https://finalbooks.herokuapp.com/upload/"+o.preview[n];e.$store.commit("showDetail",o),e.$router.push("/inbook"),e.toggle=!1}))}},computed:{getAccount:function(){return this.$store.getters.getAccount}}}),l=r,c=o("2877"),u=Object(c["a"])(l,s,i,!1,null,null,null),d=u.exports,p=o("9483");Object(p["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});o("d3b7");var b=o("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"}},[n("div",[n("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:4e3,controls:"",indicators:"",background:"#ababab","img-width":"1024","img-height":"480"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[n("b-carousel-slide",{attrs:{"img-src":o("983b")}}),n("b-carousel-slide",{attrs:{"img-src":"./img/02.jpg"}}),n("b-carousel-slide",{scopedSlots:t._u([{key:"img",fn:function(){return[n("img",{staticClass:"d-block img-fluid w-100",attrs:{width:"1024",height:"480",src:"./img/03.jpg",alt:"image slot"}})]},proxy:!0}])})],1)],1),n("div",{staticClass:"banner-s pt-1"},[n("h3",{staticClass:"mt-4 mb-5",staticStyle:{"text-align":"center"}},[t._v("新書推薦")]),n("swiper",{staticClass:"swiper mb-2",attrs:{options:t.swiperOption}},[n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/01.jpg",alt:"new1"}}),n("div",[t._v("Tokyo TDC Vol.30: The Best in International Typography & Design")]),n("p",[t._v("79折 NT1659元")])]),n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/02.jpg",alt:"new2"}}),t._v("印刷用紙サンプルBOOK: 200種類以上の印刷用紙に、同絵柄．文字を刷って１冊に "),n("p",[t._v("85折 NT2066元")])]),n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/03.png",alt:"new3"}}),t._v("佐藤大提問中!:日本設計鬼才與17組大師的非官方對談集 "),n("p",[t._v("79折 NT332元")])]),n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/04.jpg",alt:"new4"}}),t._v("Keep in Touch: Contemporary Design for Invitation, Postcards, Stamps & Seals "),n("p",[t._v("79折 NT1106元")])]),n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/05.jpg",alt:"new5"}}),t._v("Thinking in Services: Encoding and Expressing Strategy through Design "),n("p",[t._v("79折 NT1304元")])]),n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/06.jpg",alt:"new6"}}),t._v("Fashion Illustration: Outfit of the Day "),n("p",[t._v("79折 NT632元")])]),n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/07.jpg",alt:"new7"}}),t._v("Optimum Type: Custom Typography Design and Application "),n("p",[t._v("79折 NT1106元")])]),n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/08.jpg",alt:"new8"}}),t._v("50 Years of Japanese Logotypes and Symbol Marks "),n("p",[t._v("79折 NT1264元")])]),n("swiper-slide",[n("img",{attrs:{src:"./img/newbook/09.png",alt:"new9"}}),t._v("Originality in Japanese Layout Design "),n("p",[t._v("79折 NT1067元")])]),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),n("div",{staticClass:"swiper-scrollbar"})],1)],1)])},g=[],m={data:function(){return{swiperOption:{slidesPerView:4,spaceBetween:30,centeredSlides:!0,loop:!0,loopFillGroupWithBlank:!0,pagination:{el:".swiper-pagination",clickable:!0},scrollbar:{el:".swiper-scrollbar",hide:!0}},slide:0,sliding:null}},methods:{onSlideStart:function(t){this.sliding=!0},onSlideEnd:function(t){this.sliding=!1}}},h=m,v=Object(c["a"])(h,f,g,!1,null,null,null),w=v.exports,k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"booksin"}},[o("b-container",{staticClass:"mt-5"},[o("b-row",[o("b-col",{staticClass:"bg",attrs:{md:"5",lg:"5"}},[o("img",{staticClass:"cover",attrs:{src:t.bookDetail.name,alt:"書籍"}})]),o("b-col",{attrs:{md:"7"}},[o("h2",[t._v(t._s(t.bookDetail.title))]),o("p",[t._v(t._s(t.bookDetail.description))]),o("h6",[t._v("ISBN "+t._s(t.bookDetail.ISBN))]),o("h6",[o("strike",[t._v("定價：NT"+t._s(t.bookDetail.originalprice)+"元")])],1),o("h6",[t._v("會員：NT "+t._s(t.bookDetail.price)+"元")]),o("b-button",{staticClass:"pl-3 pr-3",on:{click:t.addCart}},[t._v("購買")])],1)],1)],1),o("b-container",{attrs:{id:"fbook"}},[o("b-row",[o("b-col",{staticClass:"mt-5 mx-3",attrs:{cols:"6",md:"12"}},[o("h3",{staticClass:"text-center mt-2"},[t._v("書籍試閱")]),o("div",{staticClass:"fbp"},[o("flipbook",{staticClass:"flipbook",attrs:{pages:t.bookDetail.preview,singlePage:!1}})],1)])],1)],1)],1)},y=[],_=o("8330"),x={components:{Flipbook:_["a"]},computed:{bookDetail:function(){return this.$store.getters.getBookDetail},userID:function(){return this.$store.getters.getUserID}},methods:{addCart:function(){var t={id:this.userID,product:this.bookDetail};this.axios.post("https://finalbooks.herokuapp.com/cart",t).then((function(t){console.log(t.data.result)}))}}},C=x,D=(o("aea6"),Object(c["a"])(C,k,y,!1,null,null,null)),j=D.exports;n["default"].use(b["a"]);var O=[{path:"/",name:"Home",component:w,meta:{login:!1,title:"首頁"}},{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))},meta:{login:!1,title:"關於我們",transition:"fade"}},{path:"/newbook",name:"Newbook",component:function(){return o.e("newbook").then(o.bind(null,"b1c5"))},meta:{login:!1,title:"新書資訊",transition:"fade-in-up"}},{path:"/book",name:"Book",component:function(){return Promise.all([o.e("book~buy~reg"),o.e("book")]).then(o.bind(null,"8bf3"))},meta:{login:!1,title:"書籍",transition:"fade"}},{path:"/inbook",name:"inBook",component:j,meta:{login:!1,title:"書籍",transition:"fade"}},{path:"/buy",name:"Buy",component:function(){return Promise.all([o.e("book~buy~reg"),o.e("buy")]).then(o.bind(null,"54ec"))},meta:{login:!1,title:"購物車"}},{path:"/reg",name:"Reg",component:function(){return Promise.all([o.e("book~buy~reg"),o.e("reg")]).then(o.bind(null,"b8b8"))},meta:{login:!1,title:"註冊"}},{path:"/upload",name:"Upload",component:function(){return Promise.all([o.e("book~buy~reg"),o.e("reg")]).then(o.bind(null,"2679"))},meta:{login:!0,title:"上架"}},{path:"/order",name:"Order",component:function(){return o.e("order").then(o.bind(null,"cf2a"))},meta:{login:!0,title:"訂單資訊"}}],S=new b["a"]({routes:O}),T=S,$=o("2f62"),N=o("0e44");n["default"].use($["a"]);var P=new $["a"].Store({state:{user:"",account:"",bookDetail:{},userID:""},mutations:{login:function(t,e){t.account=e.account,t.userID=e._id},logout:function(t){t.account=""},showDetail:function(t,e){t.bookDetail=e}},getters:{getAccount:function(t){return t.account},getBookDetail:function(t){return t.bookDetail},getUserID:function(t){return t.userID}},actions:{},modules:{},plugins:[Object(N["a"])()]}),E=o("ecee"),A=o("ad3d"),B=o("c074"),I=o("f2d1"),M=o("b1e0"),F=o("e68d"),L=o("bc3a"),J=o.n(L),z=o("a7fe"),U=o.n(z),q=o("f0eb"),G=o("7212"),K=o.n(G),V=(o("cecf"),o("e571")),H=o.n(V);o("ff45"),o("fce9");n["default"].component("font-awesome-icon",A["a"]),E["c"].add(B["c"],B["a"],B["b"],I["a"]),E["c"].add(I["a"]),n["default"].use(a["a"]),n["default"].use(M["a"]),n["default"].use(q["default"],H.a),n["default"].use(F["a"]),n["default"].use(K.a),n["default"].use(U.a,J.a),J.a.defaults.withCredentials=!0,n["default"].config.productionTip=!1,new n["default"]({router:T,store:P,render:function(t){return t(d)}}).$mount("#app")},"983b":function(t,e,o){t.exports=o.p+"img/01.dffa8595.jpg"},aea6:function(t,e,o){"use strict";var n=o("ed82"),a=o.n(n);a.a},cecf:function(t,e,o){},ed82:function(t,e,o){},fce9:function(t,e,o){}});
//# sourceMappingURL=app.8e8c88b4.js.map